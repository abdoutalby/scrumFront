<div
  class="container full-screen-width full-screen-height"
  fxLayout
  fxLayoutAlign="center center"
>
  <div class="bg-colored" fxLayout="column" fxLayoutAlign="center center">
    <div
      fxFlex="90"
      fxLayout="row"
      fxLayoutAlign="center center"
      class="full-width"
    >
      <mat-card fxFlex="95" fxLayout="row" class="full-height">
        <div
          fxLayout="column"
          fxLayoutAlign="center center"
          class="bg-side full-height"
          fxFlex
        ></div>
        <div fxFlex>
          <div
            class="full-height full-width"
            fxLayout="row"
            fxLayoutAlign="center center"
          >
            <ng-container *ngIf="form; else loading">
              <form
                [formGroup]="form"
                fxFlex="60"
                class="full-height"
                fxLayout="column"
                fxLayoutAlign="center start"
              >
                <div><h2>Connectez-vous</h2></div>
                <label>Nom d'utilisateur</label>
                <mat-form-field
                  class="full-width"
                  style="margin-bottom: -10px"
                  appearance="outline"
                >
                  <input
                    formControlName="username"
                    type="text"
                    matInput
                    required
                  />
                  <mat-error *ngIf="errorMessage('username')">
                    {{ errorMessage("username") }}
                  </mat-error>
                </mat-form-field>
                <label>Mot de passe</label>
                <mat-form-field
                  class="full-width"
                  style="margin-bottom: -10px"
                  appearance="outline"
                >
                  <input
                    formControlName="password"
                    type="password"
                    matInput
                    required
                  />
                  <mat-error *ngIf="errorMessage('password')">
                    {{ errorMessage("password") }}
                  </mat-error>
                </mat-form-field>
                <button
                  (click)="login()"
                  class="full-width border-radius-10"
                  mat-flat-button
                  color="primary"
                >
                  Se connecter
                </button>
                <small
                  >Vous n'avez pas de compte ?
                  <a routerLink="/signup" color="primary">crÃ©er un compte</a>
                </small>
              </form>
            </ng-container>
            <ng-template #loading>
              <mat-spinner></mat-spinner>
            </ng-template>
          </div>
        </div>
      </mat-card>
    </div>
  </div>
</div>
